#include<cstdio>
const int N=205,M=2005,S=5005;
int f[M][S],a[N];
int main()
{
	freopen("give.in","r",stdin);
	freopen("give.out","w",stdout);
	int T,m,s,n;
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d%d%d",&m,&s,&n);
		for(int i=1;i<=n;++i) scanf("%d",&a[i]);
		f[0][0]=1;
		for(int i=1;i<=m;++i)
		{
			for(int j=0;j<=s;++j) f[i][j]=0;
			for(int j=1;j<=n;++j)
				for(int k=a[j];k<=s;++k) f[i][k]^=f[i-1][k-a[j]];
		}
		printf("%d\n",f[m][s]);
	}
	return 0;
}