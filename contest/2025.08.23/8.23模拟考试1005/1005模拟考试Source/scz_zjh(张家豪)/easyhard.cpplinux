#include<bits/stdc++.h>
using namespace std;

int main() {
	freopen("easyhard.in","r",stdin);
	freopen("easyhard.out","w",stdout);
	int n,m,p,base;
	cin>>n>>m>>p;
	int ans=1;
	if(n==1) {
		base=2;
		m++;
	} else base=4;
	while(m!=0) {
		if(m&1) ans=ans*base%p;
		base=base*base%p;
		m/=2;
	}
	cout<<ans;
	return 0;
}