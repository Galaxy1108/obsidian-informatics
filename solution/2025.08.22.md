---
~
---
挂掉的分比总分还多系列
要是不挂分就能变成初中第一了呜呜呜
但是还是超过不了初三的几个人

紫/紫上/黑/黑

---
## T1

比较奇怪一 DP 题，考试时想了 2h 才想到 60pts
注意到你可以设 $dp_{i,l,r}$  为 DP 数组，这是很好转移的
$$
dp_{i,l,r}=\sum_{L\leq r \land R\geq l} dp_{i-1,L,R}
$$
这是 $O(nm^4)$，但是你会继续注意到 $dp_{i,l,r}$ 的转移在二维上是连续的，这意味这你可以二位前缀和优化
考场上有一个很接近正解的想法，但是寄掉了，这里写一下考场上的思路

>$\dots$
>需要优化，为了优化至 $40 pts$，$dp$ 需要为 $dp_{i,j}$，其中 $j$ 为 $m$
>考虑 $20pts$ 的转移
>$dp_{i,l,r}=\sum_{L\leq r \land R\geq l} dp_{i-1,L,R}$
>是否可以优化转移
>可以，记
>$g_R(x)$ 为 $dp_{i-1}$ 下所有 $R\geq x$ 的总数
>$g_L(x)$ 为 $dp_{i-1}$ 下所有 $L>x$ 的总数
>$dp_{i,l,r}$ 为 $g_R(l)-g_L(r)$，$g_R(x)$ 和 $g_L(x)$ 可以差分处理
>时间复杂度 $O(nm + nm^2)$
> $\dots$
> - Check failed: 120min 10:08 (WA on sample #2)
> $\cdots$

真的是和答案惊人的相似啊...可惜不知道哪里寄掉了
答案就是以上思路再次进行前缀和优化

## T2
考场上写的暴力，但是初始值小了导致 WA 了 subtask#1 的最后几个点，这下一分没有了

## T3
写的状压，有 35pts，但是随机数那块出了问题，样例测不出来
被 subtask 薄纱了
状态压缩 DP 就是枚举每一种局面状态，可以过 $n\leq16$ 

## T4
考场上没时间认真看，考后才知道有 20 pts 是送的
这真没的说