---
时间: 2025-03-25
tags:
  - 交互题
  - 二分图
---
[E - Tree Game](https://atcoder.jp/contests/abc398/tasks/abc398_e)
## sol 1

这道题要求在保持树不存在奇环的前提上添加尽可能的边

首先，可以知道如果我们添加边 $(u,v)$ 且使得不存在奇环，那么这意味着在原来的图上 $\rm{dis}(u,v)$ 为奇数。那么我们可以枚举每一个节点，通过 dfs 找到所有 $\rm{dis}(u,v)$ 为奇数的点对存在 set 里，这就为我们可以添加的边

对于先手与后手的问题，显然如果可以添加的边数为奇数，那么我们先手，否则为后手

![[ABC398_E_sol1.cpp]]

## sol 2

显然，如果不存在奇环，那么这个图为一张 [[偶图（二分图）|二分图]]，那么这意味着我们需要在添加边的同时维持二分图的性质

这意味着我们只能在两个颜色不同的点间连边。跑一次二分图的染色，寻找颜色不同的点对即可

先手与后手的处理方式与 sol 1 相同

![[ABC398_E_sol2.cpp]]

